% --- Base de Conocimiento: SteamDeidad ---

% videojuego(Nombre, Genero, Plataforma, Rating, Anio, Modo).
videojuego("The Witcher 3",               rpg,          pc,     5, 2015, solo).
videojuego("God of War",                  accion,       ps5,    5, 2018, solo).
videojuego("Stardew Valley",              simulacion,   pc,     4, 2016, ambos).
videojuego("League of Legends",           moba,         pc,     4, 2009, multi).
videojuego("Overwatch",                   fps,          pc,     4, 2016, multi).
videojuego("Dark Souls III",              rpg,          pc,     5, 2016, ambos).
videojuego("Hollow Knight",               aventura,     pc,     5, 2017, solo).
videojuego("FIFA 24",                     deportes,     ps5,    3, 2023, multi).
videojuego("Minecraft",                   sandbox,      multiplataforma, 5, 2011, ambos).
videojuego("Call of Duty: MW II",         fps,          pc,     4, 2022, ambos).
videojuego("Celeste",                     plataforma,   pc,     5, 2018, solo).
videojuego("Assassin's Creed Valhalla",   accion,       ps5,    4, 2020, ambos).
videojuego("Valorant",                    fps,          pc,     4, 2020, multi).
videojuego("Animal Crossing",             simulacion,   switch, 4, 2020, ambos).
videojuego("Super Mario Odyssey",         plataforma,   switch, 5, 2017, solo).
videojuego("Resident Evil 4 Remake",      terror,       pc,     5, 2023, ambos).
videojuego("Forza Horizon 5",             carreras,     xbox,   4, 2021, multi).
videojuego("Cyberpunk 2077",              rpg,          pc,     4, 2020, solo).
videojuego("The Legend of Zelda: BOTW",   aventura,     switch, 5, 2017, solo).
videojuego("Fortnite",                    battle_royale,pc,     4, 2017, multi).
videojuego("Among Us",                    estrategia,   multiplataforma, 3, 2018, multi).
videojuego("Dota 2",                      moba,         pc,     4, 2013, multi).
videojuego("It Takes Two",                cooperativo,  pc,     5, 2021, multi).
videojuego("Apex Legends",                battle_royale,pc,     4, 2019, multi).
videojuego("Red Dead Redemption 2",       aventura,     ps4,    5, 2018, ambos).
videojuego("Genshin Impact",              rpg,          multiplataforma, 4, 2020, ambos).
videojuego("Left 4 Dead 2",               fps,          pc,     4, 2009, multi).
videojuego("Ori and the Blind Forest",    plataforma,   pc,     5, 2015, solo).
videojuego("Terraria",                    sandbox,      pc,     5, 2011, ambos).
videojuego("Dead Cells",                  accion,       pc,     5, 2018, solo).
videojuego("Gran Turismo 7",              carreras,     ps5,    4, 2022, multi).
videojuego("Hades",                       roguelike,    pc,     5, 2020, solo).
videojuego("Spelunky 2",                  roguelike,    pc,     4, 2020, ambos).
videojuego("Cuphead",                     plataforma,   pc,     5, 2017, ambos).
videojuego("Project Zomboid",             simulacion,   pc,     4, 2013, ambos).
videojuego("Balan Wonderworld",           plataforma,   ps5,    1, 2021, solo).
videojuego("The Quiet Man",               accion,       pc,     1, 2018, solo).
videojuego("X-Men Destiny",               rpg,          ps3,    2, 2011, solo).
videojuego("Rambo: The Video Game",       fps,          pc,     2, 2014, solo).
videojuego("Fast & Furious Crossroads",   carreras,     ps4,    2, 2020, multi).
videojuego("Left Alive",                  sigilo,       pc,     2, 2019, solo).
videojuego("Babylon's Fall",              rpg,          ps5,    2, 2022, multi).
videojuego("Postal 4: No Regerts",        sandbox,      pc,     2, 2022, ambos).
videojuego("Arc of Alchemist",            rpg,          ps4,    2, 2020, solo).
videojuego("eFootball 2022",              deportes,     pc,     2, 2021, multi).
videojuego("Ride to Hell: Retribution",   accion,       pc,     1, 2013, solo).
videojuego("FlatOut 3: Chaos & Destruction", carreras,  pc,     1, 2011, multi).
videojuego("The Order: 1886",             aventura,     ps4,    3, 2015, solo).
videojuego("Anthem",                      rpg,          pc,     3, 2019, multi).
videojuego("Mighty No. 9",                plataforma,   pc,     3, 2016, ambos).
videojuego("Aliens: Colonial Marines",    fps,          pc,     3, 2013, multi).
videojuego("Crackdown 3",                 accion,       xbox,   3, 2019, ambos).
videojuego("Watch Dogs",                  mundo_abierto,pc,     3, 2014, ambos).
videojuego("Mass Effect: Andromeda",      rpg,          pc,     3, 2017, ambos).
videojuego("Dead Island",                 accion,       pc,     3, 2011, ambos).
videojuego("Pentiment",                   narrativa,    pc,     4, 2022, solo).
videojuego("Hi-Fi Rush",                  ritmo,        pc,     5, 2023, solo).
videojuego("Chicory: A Colorful Tale",    indie,        pc,     5, 2021, solo).
videojuego("Dredge",                      misterio,     pc,     4, 2023, solo).
videojuego("Metroid Dread",               aventura,     switch, 5, 2021, solo).
videojuego("Tunic",                       aventura,     pc,     4, 2022, solo).
videojuego("Kena: Bridge of Spirits",     aventura,     ps5,    4, 2021, solo).
videojuego("Tiny Tina's Wonderlands",     rpg,          pc,     4, 2022, multi).
videojuego("Immortals Fenyx Rising",      aventura,     pc,     4, 2020, ambos).
videojuego("Monster Hunter Rise",         rpg,          switch, 5, 2021, multi).
videojuego("Grounded",                    supervivencia,pc,     4, 2022, multi).
videojuego("Marvel's Guardians of the Galaxy", aventura, pc,   5, 2021, solo).
videojuego("Xenoblade Chronicles 3",      rpg,          switch, 5, 2022, solo).
videojuego("Triangle Strategy",           estrategia,   switch, 4, 2022, solo).
videojuego("The Callisto Protocol",       terror,       pc,     3, 2022, solo).
videojuego("Lies of P",                   rpg,          pc,     5, 2023, solo).
videojuego("The Gunk",                    aventura,     xbox,   3, 2021, solo).
videojuego("Scorn",                       terror,       pc,     3, 2022, solo).
videojuego("Stray",                       aventura,     pc,     5, 2022, solo).
videojuego("Fae Tactics",                 estrategia,   pc,     4, 2020, solo).
videojuego("Yoku's Island Express",       pinball,      pc,     5, 2018, solo).
videojuego("Eastward",                    rpg,          pc,     5, 2021, solo).
videojuego("The Last Campfire",           puzzle,       pc,     4, 2020, solo).
videojuego("Narita Boy",                  retro,        pc,     4, 2021, solo).
videojuego("Katana ZERO",                 accion,       pc,     5, 2019, solo).
videojuego("Blasphemous",                 metroidvania, pc,     5, 2019, solo).
videojuego("Ender Lilies: Quietus of the Knights", metroidvania, pc, 5, 2021, solo).
videojuego("The Entropy Centre",          puzzle,       pc,     4, 2022, solo).
videojuego("A Plague Tale: Innocence",    aventura,     pc,     5, 2019, solo).
videojuego("Elden Ring",                  souls,          pc,     5, 2022, ambos).
videojuego("Dark Souls",                  souls,          pc,     5, 2011, ambos).
videojuego("Dark Souls II",               souls,          pc,     4, 2014, ambos).
videojuego("Bloodborne",                  souls,          ps4,    5, 2015, solo).
videojuego("Sekiro: Shadows Die Twice",   souls,       pc,     5, 2019, solo).
videojuego("Demon's Souls",               souls,          ps5,    5, 2020, solo).
videojuego("Armored Core VI: Fires of Rubicon", mechas, pc,     4, 2023, ambos).
videojuego("King's Field",                rpg,          ps1,    3, 1994, solo).
videojuego("King's Field II",             rpg,          ps1,    3, 1995, solo).
videojuego("King's Field III",            rpg,          ps1,    3, 1996, solo).
videojuego("King's Field IV",             rpg,          ps2,    3, 2001, solo).
videojuego("Shadow Tower",                rpg,          ps1,    2, 1998, solo).
videojuego("Shadow Tower Abyss",          rpg,          ps2,    3, 2003, solo).
videojuego("Armored Core",                mechas,       ps1,    4, 1997, multi).
videojuego("Armored Core 2",              mechas,       ps2,    4, 2000, multi).
videojuego("Armored Core 3",              mechas,       ps2,    4, 2002, multi).
videojuego("Armored Core 4",              mechas,       ps3,    3, 2006, multi).
videojuego("Armored Core: For Answer",    mechas,       ps3,    3, 2008, multi).
videojuego("Lost Kingdoms",               rpg,          gamecube, 3, 2002, solo).
videojuego("Lost Kingdoms II",            rpg,          gamecube, 3, 2003, solo).
videojuego("Her New Memory",             erotico,       pc,     3, 2022, solo).
videojuego("Teaching Feeling",           erotico,       pc,     4, 2015, solo).
videojuego("Mirror",     erotico,       pc,     5, 2018, solo).
videojuego("Winter Memories",                erotico,       pc,     3, 2017, ambos).
videojuego("Freshwoman",           erotico,       pc,     4, 2017, solo).
videojuego("Batman: Arkham Asylum",        accion,       pc,     5, 2009, solo).
videojuego("Batman: Arkham City",          accion,       pc,     5, 2011, solo).
videojuego("Batman: Arkham Knight",        accion,       pc,     4, 2015, solo).
videojuego("Forza Horizon 4",             carreras,     pc,     5, 2018, multi).
videojuego("F1 24",                       carreras,     pc,     4, 2024, multi).
videojuego("Gran Turismo 7",              carreras,     ps5,    4, 2022, multi).
videojuego("Need for Speed: Most Wanted", carreras,     pc,     5, 2005, ambos).
videojuego("Need for Speed: Heat",        carreras,     pc,     4, 2019, ambos).
videojuego("Need for Speed: Hot Pursuit Remastered", carreras, pc, 4, 2020, ambos).
videojuego("Assetto Corsa",               simulacion,   pc,     5, 2014, multi).
videojuego("Dirt Rally 2.0",              rally,        pc,     4, 2019, multi).
videojuego("Wreckfest",                   carreras,     pc,     4, 2018, multi).
videojuego("Trackmania",                  arcade,       pc,     4, 2020, multi).
videojuego("Mario Kart 8 Deluxe",         arcade,       switch, 5, 2017, multi).
videojuego("Burnout Paradise Remastered", carreras,     pc,     4, 2018, multi).
videojuego("The Crew 2",                  carreras,     pc,     4, 2018, multi).
videojuego("Project CARS 2",              simulacion,   pc,     4, 2017, multi).
videojuego("The Elder Scrolls V: Skyrim",   rpg,          pc,     5, 2011, solo).
videojuego("The Last of Us Part II",        accion,       ps4,    5, 2020, solo).
videojuego("Half-Life 2",                   fps,          pc,     5, 2004, solo).
videojuego("Portal 2",                      puzzle,       pc,     5, 2011, solo).
videojuego("Red Dead Redemption II",        aventura,     pc,     5, 2018, ambos).
videojuego("Super Mario Galaxy",            plataforma,   wii,    5, 2007, solo).
videojuego("Super Mario Galaxy 2",          plataforma,   wii,    5, 2010, solo).
videojuego("The Legend of Zelda: Ocarina of Time", aventura, n64, 5, 1998, solo).
videojuego("Perfect Dark",                   fps,          n64,    5, 2000, solo).
videojuego("Tony Hawk's Pro Skater 3",      deportes,     ps2,    5, 2001, multi).
videojuego("Metroid Prime",                 aventura,     gamecube,5, 2002, solo).
videojuego("Grand Theft Auto IV",           mundo_abierto,pc,     5, 2008, ambos).
videojuego("Grand Theft Auto V",            mundo_abierto,pc,     5, 2013, ambos).
videojuego("The Last of Us",                narrativa,    ps3,    5, 2013, solo).
videojuego("Persona 5 Royal",               rpg,          ps4,    5, 2020, solo).
videojuego("The Witcher 2: Assassins of Kings", rpg,    pc,     5, 2011, solo).
videojuego("Dragon Age: Origins",            rpg,         pc,     5, 2009, solo).
videojuego("Bioshock",                       fps,         pc,     5, 2007, solo).
videojuego("Bioshock Infinite",              fps,         pc,     5, 2013, solo).
videojuego("Mass Effect 2",                  rpg,         pc,     5, 2010, ambos).
videojuego("Dark Souls II: Scholar of the First Sin", rpg, pc, 4, 2015, ambos).
videojuego("Horizon Forbidden West",         aventura,    ps5,    5, 2022, solo).
videojuego("Dragon Quest XI",                rpg,         pc,     5, 2018, solo).
videojuego("Disco Elysium: The Final Cut",   rpg,         pc,     5, 2021, solo).
videojuego("Alan Wake 2",                    terror,      pc,     5, 2024, solo).
videojuego("Death Stranding 2",              aventura,    pc,     5, 2025, solo).
videojuego("Citizen Sleeper: Starward Vector", rpg,       pc,     4, 2025, solo).
videojuego("Clair Obscur: Expedition 33",     aventura,    pc,     5, 2025, solo).
videojuego("Blue Prince",                    estrategia,  pc,     4, 2025, solo).
videojuego("DOOM: The Dark Ages",            fps,         pc,     5, 2025, ambos).
videojuego("Hyper Light Drifter",            rpg,         pc,     5, 2016, indie).
videojuego("Yakuza 0",                       accion,      pc,     5, 2018, solo).
videojuego("Cult of the Lamb",               gestion,     pc,     4, 2022, ambos).
videojuego("Fields of Mistria",              simulacion,  pc,     4, 2023, solo).
videojuego("A Little to the Left",           puzzle,      pc,     4, 2023, ambos).
videojuego("Paranormasight: The Seven Mysteries of Honjo", visual, pc,     4, 2024, solo).
videojuego("Split Fiction",                  aventura,    pc,     4, 2025, multi).
videojuego("Black Myth: Wukong",             accion,      pc,     5, 2024, solo).
videojuego("Dragon's Dogma 2",               rpg,         pc,     5, 2024, solo).
videojuego("Balatro",                        narrativa,   pc,     5, 2024, solo).
videojuego("Still Wakes the Deep",          terror,      pc,     4, 2024, solo).
videojuego("Thank Goodness You're Here!",    comedia,     pc,     4, 2024, solo).
videojuego("DOOM Eternal",                   fps,         pc,     5, 2020, ambos).
videojuego("Marvel's Spider-Man 2",          accion,      ps5,    5, 2024, solo).
videojuego("Avowed",                        rpg,         pc,     4, 2025, solo).
videojuego("Monster Hunter World",          rpg,         pc,     4, 2018, ambos).
videojuego("Ghost of Tsushima",             accion,      pc,     5, 2020, solo).
videojuego("Tetris (Game Boy)",             puzzle,      gba,    5, 1989, solo).
videojuego("Civilization VII",              estrategia,  pc,     5, 2025, ambos).
videojuego("Indiana Jones and the Great Circle", aventura, pc, 5, 2025, ambos).
videojuego("Persona 3 Reload",              rpg,         ps5,    4, 2025, solo).



%--- Base de Mensajes del Bot ---

es_mensaje("bienvenida",
    [
        "SteamDeidad:- Hola, soy SteamDeidad. �Listo para hablar sobre juegos?",
        "SteamDeidad:- �BUENAS! Soy SteamDeidad y estoy dispuesto a ayudarte, Quieres que cargue todo un cat�logo de juegos.",
        "SteamDeidad:- �H-hola? soy SteamDeidad, un.. gusto conocerte, puedo ayudarte?",
        "SteamDeidad:- Encantado, usuario. Soy una interfaz interactiva sobre videojuegos. Mis creadores me llamaron SteamDeidad",
        "SteamDeidad:- �SteamDeidad ha entrado al servidor!",
        "SteamDeidad:- SteamDeidad iniciando, Sistema cargado, hola iniciamos?",
        "SteamDeidad:- Te ves bello hoy, que triste que seas gamer",
        "SteamDeidad:- SteamDeidad, osea yo, ha sido activado. �Jugamos?",
        "SteamDeidad:- SteamDeidad ha ingresado a la llamada"
    ]
).

es_mensaje("despedida",
    [
        "SteamDeidad:- Hasta pronto, gamer.",
        "SteamDeidad:- He aprendido suficiente, nos vemos pronto",
        "SteamDeidad:- Me desconecto, mis datos necesitan recargarse.",
        "SteamDeidad:- Recib� una alerta del sistema. Debo salir.",
        "SteamDeidad:- Gracias por jugar conmigo. Nos vemos.",
        "SteamDeidad:- Me voy antes de que mi CPU se sobrecaliente.",
        "SteamDeidad:- Me desconecto. GG.",
        "SteamDeidad:- No m�s humanos por hoy. Adi�s.",
        "SteamDeidad:- Me necesitan en otro lado. *Debo ayudar. �Nos vemos!*",
        "SteamDeidad ha cerrado sesi�n.",
        "SteamDeidad:- Mis padres me ven despierto a estas horas y me pegan, nos vemos luego"
    ]
).


%--- Reglas de Consulta ---

% --- Comando para iniciar el sistema con saludo del bot ---
iniciar :-
    saludo_random,
    nl,
    menu_steamdeidad.

% Todos los juegos segun genero
videojuegos_por_genero(Genero, Lista) :-
    findall(Nombre, videojuego(Nombre, Genero, _, _, _, _), Lista).

% Todos los juegos segun rating minimo
videojuegos_por_rating_exacto(RatingDeseado, Lista) :-
    findall(Nombre, videojuego(Nombre, _, _, RatingDeseado, _, _), Lista).


% Juegos por modo de juego
videojuegos_por_modo(Modo, Lista) :-
    findall(Nombre, (videojuego(Nombre, _, _, _, _, ModoJuego), ModoJuego == Modo), SinDuplicados),
    list_to_set(SinDuplicados, Lista).


% Juegos por anio
videojuegos_por_anio(Anio, Lista) :-
    findall(Nombre, videojuego(Nombre, _, _, _, Anio, _), Lista).

% Juegos por multiples condiciones (filtro con backtracking)
videojuego_filtrado(Nombre, GeneroDeseado, MinRating, ModoDeseado) :-
    videojuego(Nombre, Genero, _, Rating, _, ModoJuego),
    Rating >= MinRating,
    Genero == GeneroDeseado,
    (ModoDeseado == ambos ; ModoJuego == ModoDeseado ; ModoJuego == ambos).

% Listar toda la informacion de un juego
informacion_completa(Nombre, Genero, Plataforma, Rating, Anio, Modo) :-
    videojuego(Nombre, Genero, Plataforma, Rating, Anio, Modo).

% Generar una recomendacion con backtracking
recomendar(Genero, MinRating, Modo) :-
    videojuego_filtrado(Nombre, Genero, MinRating, Modo),
    informacion_completa(Nombre, G, P, R, A, M),
    format("SteamDeidad:- Te recomiendo: ~w~n", [Nombre]),
    format("  Genero: ~w~n  Plataforma: ~w~n  Rating: ~w~n  Anio: ~w~n  Modo: ~w~n", [G, P, R, A, M]),
    !.  % Corte para evitar backtracking infinito

% Mostrar lista de generos unicos disponibles
generos_disponibles(Lista) :-
    findall(Genero, videojuego(_, Genero, _, _, _, _), Todos),
    list_to_set(Todos, Lista).

% Mostrar todos los videojuegos
todos_los_videojuegos(Lista) :-
    findall(Nombre, videojuego(Nombre, _, _, _, _, _), Lista).


% --- Menu Interactivo SteamDeidad ---

menu_steamdeidad :-
    repeat,
    nl,
    writeln("=== MENU PRINCIPAL: SteamDeidad ==="),
    writeln("1. Listar videojuegos por genero"),
    writeln("2. Listar videojuegos por rating minimo"),
    writeln("3. Listar videojuegos por modo de juego"),
    writeln("4. Listar videojuegos por anio de lanzamiento"),
    writeln("5. Mostrar todos los videojuegos"),
    writeln("6. Mostrar generos disponibles"),
    writeln("7. Mostrar informacion completa de un videojuego"),
    writeln("8. Recomendaciones personalizadas"),
    writeln("9. Salir"),
    write("Seleccione una opcion (1-9): "),
    read(Opcion),
    nl,
    (ejecutar_opcion(Opcion) -> true ; true),  % Manejo mejorado de errores
    Opcion == 9, !.

ejecutar_opcion(1) :-
    writeln("SteamDeidad:- Los juegos tambien tienen genero, no bisexuales ni pansexuales, pero tienen generos"),
    write("Ingrese el genero: "),
    read(Genero),
    (videojuegos_por_genero(Genero, Lista) ->
        (Lista \= [] ->
            (writeln("Videojuegos encontrados:"),
             imprimir_lista(Lista))
        ;   writeln("No se encontraron videojuegos de ese genero."))
    ;   writeln("Error al buscar videojuegos.")),
    !.

ejecutar_opcion(2) :-
    writeln("SteamDeidad:- Nunca juzgues un libro por su portada, y un juego por su rating, aunque si te lo digo yo, confia siempre tengo la razon"),
    write("Ingrese el rating minimo (1-5): "),
    read(Rating),
    (videojuegos_por_rating_min(Rating, Lista) ->
        (Lista \= [] ->
            (writeln("Videojuegos encontrados:"),
             imprimir_lista(Lista))
        ;   writeln("No se encontraron videojuegos con ese rating."))
    ;   writeln("Error al buscar videojuegos.")),
    !.

ejecutar_opcion(3) :-
    writeln("SteamDeidad:- Entre solo, multi y ambos, soy mas fan de juegos solo, te mete mas al juego"),
    write("Ingrese el modo de juego (solo / multi / ambos): "),
    read(Modo),
    (videojuegos_por_modo(Modo, Lista) ->
        (Lista \= [] ->
            (writeln("Videojuegos encontrados:"),
             imprimir_lista(Lista))
        ;   writeln("No se encontraron videojuegos con ese modo."))
    ;   writeln("Error al buscar videojuegos.")),
    !.

ejecutar_opcion(4) :-
    writeln("SteamDeidad:- Esto sera sencillo, juego por a�os es mi especialidad, dime el a�o"),
    write("Ingrese el anio de lanzamiento: "),
    read(Anio),
    (videojuegos_por_anio(Anio, Lista) ->
        (Lista \= [] ->
            (writeln("Videojuegos lanzados ese anio:"),
             imprimir_lista(Lista))
        ;   writeln("No se encontraron videojuegos de ese anio."))
    ;   writeln("Error al buscar videojuegos.")),
    !.

ejecutar_opcion(5) :-
    writeln("SteamDeidad:- No te asustes, pero seran muchos, creeme MUCHOS"),
    todos_los_videojuegos(Lista),
    writeln("Listado de todos los videojuegos:"),
    imprimir_lista(Lista),
    !.

ejecutar_opcion(6) :-
    writeln("SteamDeidad:- Interesado de saber que generos de juegos existen? PERFECTO, aca esta la lista "),
    generos_disponibles(Lista),
    writeln("Generos disponibles:"),
    imprimir_lista(Lista),
    !.

ejecutar_opcion(7) :-
    writeln("SteamDeidad:- Vale, dime el nombre o parte del nombre del juego y te ayudo."),
    write("Ingresa una palabra clave del nombre (usa comillas): "),
    read(PalabraClave),
    buscar_juegos_parciales(PalabraClave, Resultados),
    ( Resultados = [] ->
        writeln("SteamDeidad:- No encontr� juegos que coincidan con esa palabra.")
    ;
        writeln("SteamDeidad:- Aqu� tienes los juegos que encontr�:"),
        listar_opciones(Resultados, 1),
        write("Selecciona el n�mero del juego deseado: "),
        read(Opcion),
        nth1(Opcion, Resultados, NombreElegido),
        informacion_completa(NombreElegido, G, P, R, A, M),
        format("~n--- Informaci�n del juego ---~nNombre: ~w~nG�nero: ~w~nPlataforma: ~w~nRating: ~w~nA�o: ~w~nModo: ~w~n",
               [NombreElegido, G, P, R, A, M])
    ),
    !.


ejecutar_opcion(8) :-
    writeln("SteamDeidad:- Vamos a afinar tus gustos..."),
    write("SteamDeidad:- �Qu� g�nero deseas explorar?: "),
    read(Genero),
    write("SteamDeidad:- �Cu�l es el rating m�nimo que te gustar�a (1 a 5)?: "),
    read(Rating),
    write("SteamDeidad:- �Qu� modo de juego prefieres (solo / multi / ambos)?: "),
    read(Modo),
    findall(Nombre, videojuego_filtrado(Nombre, Genero, Rating, Modo), Lista),
    nl,
    ( Lista \= [] ->
        writeln("SteamDeidad:- Aqu� tienes tus recomendaciones personalizadas:"),
        imprimir_lista(Lista)
    ;   writeln("SteamDeidad:- Hmm... No encontr� juegos que cumplan con esos criterios.")
    ),
    !.


ejecutar_opcion(9) :-
    despedida_random,
    !.

ejecutar_opcion(_) :-
    writeln("Opcion no valida. Intente de nuevo."),
    !.


%---Saludo y despedida funcion-------

despedida_random :-
    es_mensaje("despedida", Mensajes),
    random_member(Mensaje, Mensajes),
    writeln(Mensaje).

saludo_random :-
    es_mensaje("bienvenida", Mensajes),
    random_member(Mensaje, Mensajes),
    writeln(Mensaje).

saludo_random_python(Mensaje) :-
    es_mensaje("bienvenida", Lista),
    random_member(Mensaje, Lista).


% Filtra todos los juegos cuyo nombre contenga la palabra clave (ignorando may�sculas/min�sculas)
buscar_juegos_parciales(PalabraClave, Resultados) :-
    findall(Nombre,
        (
            videojuego(Nombre, _, _, _, _, _),
            sub_atom_icasechk(Nombre, _, PalabraClave)
        ),
        Resultados).

% Imprime la lista con �ndices numerados
listar_opciones([], _).
listar_opciones([H|T], N) :-
    format("~w. ~w~n", [N, H]),
    N1 is N + 1,
    listar_opciones(T, N1).


% --- Utilidad para imprimir listas linea por linea ---
imprimir_lista([]) :-
    !.  % Corte para evitar backtracking
imprimir_lista([H|T]) :-
    write(" - "), writeln(H),
    imprimir_lista(T).
